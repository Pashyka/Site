<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Каталог — Уральские пельмешки</title>
  <meta name="description" content="Каталог Уральских пельмешек: пельмени, вареники, манты и домашние полуфабрикаты с доставкой по Москве и области." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://optim.tildacdn.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Prata&family=Onest:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #f8f1ea;
      --bg-deep: #f0e6dd;
      --ink: #2b1f1a;
      --muted: #7a6b63;
      --accent: #c8572d;
      --accent-2: #e07a52;
      --accent-3: #a64624;
      --card: #ffffff;
      --shadow: 0 20px 50px rgba(38, 28, 24, 0.12);
      --radius-lg: 28px;
      --radius-md: 18px;
      --radius-sm: 12px;
      --grid-gap: 20px;
      --ui-ease: cubic-bezier(0.22, 1, 0.36, 1);
      --ui-shadow-soft: 0 10px 24px rgba(32, 22, 18, 0.12);
      --ui-shadow-strong: 0 16px 34px rgba(32, 22, 18, 0.18);
      --ui-ring: 0 0 0 3px rgba(200, 87, 45, 0.22);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }

    html.no-smooth-scroll {
      scroll-behavior: auto !important;
    }

    body {
      font-family: "Onest", "Prata", serif;
      color: var(--ink);
      background:
        radial-gradient(980px 560px at -6% -4%, rgba(255, 255, 255, 0.78) 0%, rgba(255, 255, 255, 0) 68%),
        radial-gradient(860px 540px at 104% 12%, rgba(219, 129, 88, 0.22) 0%, rgba(219, 129, 88, 0) 68%),
        linear-gradient(165deg, #f8efe5 0%, #f3e6d8 52%, #ebd6c4 100%);
      line-height: 1.6;
      overflow-x: clip;
    }

    body.cart-open {
      position: fixed;
      left: 0;
      right: 0;
      width: 100%;
      overflow: hidden;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      display: block;
    }

    .page {
      overflow: hidden;
    }

    .container {
      width: min(1160px, 92vw);
      margin: 0 auto;
    }

    .eyebrow {
      font-size: 12px;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      color: var(--muted);
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      padding: 14px 24px;
      border-radius: 999px;
      border: 1px solid transparent;
      font-weight: 600;
      transition:
        transform 0.28s var(--ui-ease),
        box-shadow 0.28s var(--ui-ease),
        background-color 0.22s var(--ui-ease),
        border-color 0.22s var(--ui-ease),
        color 0.22s var(--ui-ease);
      cursor: pointer;
    }

    .btn-primary {
      background: var(--accent);
      color: #fff;
      box-shadow: 0 16px 30px rgba(229, 75, 75, 0.32);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 16px 30px rgba(229, 75, 75, 0.32);
    }

    .btn-ghost {
      border-color: rgba(43, 31, 26, 0.18);
      color: var(--ink);
      background: rgba(255, 255, 255, 0.7);
    }

    .btn-ghost:hover {
      border-color: var(--accent);
      color: var(--accent);
      background: rgba(229, 75, 75, 0.08);
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(28, 23, 20, 0.12);
    }

    .hero-cta {
      background: rgba(255, 255, 255, 0.7);
      border-color: rgba(43, 31, 26, 0.18);
      color: var(--ink);
      box-shadow: none;
      transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease, color 0.18s ease, border-color 0.18s ease;
    }

    .hero-cta:hover {
      background: var(--accent);
      border-color: var(--accent);
      color: #fff;
      box-shadow: 0 16px 30px rgba(229, 75, 75, 0.28);
      transform: translateY(-2px);
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      background: #fff;
      border: 1px solid rgba(28, 23, 20, 0.08);
      font-size: 14px;
      color: var(--muted);
    }

    .tag {
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(229, 75, 75, 0.1);
      color: var(--accent);
      font-weight: 600;
      font-size: 12px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: rgba(248, 243, 238, 0.8);
      border-bottom: 1px solid rgba(28, 23, 20, 0.08);
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 0;
      gap: 20px;
    }

    .logo {
      font-family: "Prata", serif;
      font-size: 22px;
      letter-spacing: 0.02em;
    }

    .logo img {
      height: 46px;
      width: auto;
      display: block;
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 20px;
      font-weight: 500;
    }

    .nav-links a {
      position: relative;
      transition: color 0.22s var(--ui-ease);
    }

    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: -5px;
      height: 2px;
      border-radius: 999px;
      background: var(--accent);
      transform: scaleX(0);
      transform-origin: center;
      transition: transform 0.26s var(--ui-ease);
    }

    .nav-cta {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .nav-cta .pill {
      white-space: nowrap;
    }

    .nav-cta .btn,
    .nav-cta .pill {
      flex-shrink: 0;
    }

    .hero {
      padding: 72px 0 96px;
      position: relative;
    }

    .hero-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 48px;
      align-items: center;
    }

    .hero h1 {
      font-family: "Prata", serif;
      font-size: clamp(36px, 4vw, 56px);
      line-height: 1.1;
      margin: 16px 0 18px;
    }

    .hero p {
      color: var(--muted);
      font-size: 18px;
    }

    .hero-actions {
      margin-top: 26px;
      margin-bottom: 18px;
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
    }

    .hero-card {
      background: var(--card);
      border-radius: var(--radius-lg);
      padding: 26px;
      box-shadow: var(--shadow);
      display: grid;
      gap: 18px;
    }

    .hero-card .stat {
      display: flex;
      align-items: baseline;
      gap: 6px;
    }

    .hero-card .stat strong {
      font-size: 28px;
      color: var(--accent);
    }

    .hero-visual {
      position: relative;
      min-height: 380px;
      border-radius: var(--radius-lg);
      background: linear-gradient(140deg, #f4b3b3, #eb7b7b, #e54b4b);
      overflow: hidden;
      display: grid;
      place-items: center;
      color: #fff;
    }

    .hero-visual::before,
    .hero-visual::after {
      content: "";
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
    }

    .hero-visual::before {
      width: 240px;
      height: 240px;
      top: -40px;
      right: -30px;
    }

    .hero-visual::after {
      width: 180px;
      height: 180px;
      bottom: -30px;
      left: -20px;
    }

    .hero-plate {
      width: min(360px, 70%);
      aspect-ratio: 1;
      border-radius: 50%;
      background: radial-gradient(circle at 40% 40%, #fffaf2 0%, #f1d2b3 60%, #e0a86b 100%);
      box-shadow: inset 0 0 0 18px rgba(255, 255, 255, 0.4), 0 20px 40px rgba(0, 0, 0, 0.2);
      position: relative;
    }

    .hero-plate::before,
    .hero-plate::after {
      content: "";
      position: absolute;
      border-radius: 50%;
      background: #f6f0e9;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.12);
    }

    .hero-plate::before {
      width: 60px;
      height: 60px;
      top: 25%;
      left: 18%;
    }

    .hero-plate::after {
      width: 70px;
      height: 70px;
      bottom: 20%;
      right: 18%;
    }

    .section {
      padding: 80px 0;
    }

    .section-title {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      gap: 20px;
      margin-bottom: 32px;
    }

    .catalog-intro {
      align-items: center;
      margin-bottom: 26px;
    }

    .catalog-intro .eyebrow {
      margin-bottom: 10px;
    }

    .catalog-intro h2 {
      max-width: 13ch;
      line-height: 1.08;
      text-wrap: balance;
    }

    .catalog-intro .muted {
      max-width: 500px;
      margin: 0;
      padding: 0;
      border: 0;
      background: transparent;
      color: #4a3c37;
      line-height: 1.45;
    }

    .category-section {
      padding: 42px 0 56px;
    }

    .category-section .section-title {
      margin-bottom: 18px;
    }

    .btn-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(28, 23, 20, 0.12);
      background: rgba(255, 255, 255, 0.8);
      color: var(--ink);
      font-weight: 600;
      font-size: 14px;
      transition:
        transform 0.28s var(--ui-ease),
        box-shadow 0.28s var(--ui-ease),
        background-color 0.22s var(--ui-ease),
        color 0.22s var(--ui-ease),
        border-color 0.22s var(--ui-ease);
    }

    .btn-link:hover {
      transform: translateY(-1px);
      border-color: var(--accent);
      color: var(--accent);
      box-shadow: 0 8px 18px rgba(28, 23, 20, 0.12);
    }

    .section-title h2 {
      font-family: "Prata", serif;
      font-size: clamp(28px, 3.2vw, 40px);
    }

    .grid {
      display: grid;
      gap: var(--grid-gap);
    }

    .grid-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .grid-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .card {
      background: var(--card);
      border-radius: var(--radius-md);
      padding: 22px;
      box-shadow: 0 12px 30px rgba(28, 23, 20, 0.08);
      display: grid;
      gap: 14px;
      min-height: 100%;
    }

    .card h3 {
      font-size: 20px;
    }

    .catalog-card {
      position: relative;
      overflow: hidden;
      padding: 26px;
    }

    .catalog-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, rgba(255, 255, 255, 0.9), rgba(248, 243, 238, 0.6));
      z-index: 0;
    }

    .catalog-card > * {
      position: relative;
      z-index: 1;
    }

    .catalog-card {
      cursor: pointer;
      transition:
        transform 0.32s var(--ui-ease),
        box-shadow 0.32s var(--ui-ease),
        border-color 0.26s var(--ui-ease);
      border: 1px solid rgba(28, 23, 20, 0.08);
      padding: 22px;
      gap: 16px;
      content-visibility: auto;
      contain-intrinsic-size: 320px;
    }

    .catalog-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 18px 34px rgba(28, 23, 20, 0.14);
      border-color: rgba(229, 75, 75, 0.22);
    }

    .catalog-card .thumb {
      height: 200px;
      border-radius: 18px;
      background: #f5e4d5 center/cover no-repeat;
      box-shadow: 0 10px 22px rgba(28, 23, 20, 0.12);
    }

    .catalog-card .thumb.is-loading,
    .product .thumb.is-loading {
      background-color: #f5e4d5;
      background-image: linear-gradient(100deg, #f5e4d5 0%, #fbeedf 38%, #f5e4d5 72%);
      background-size: 220% 100%;
      animation: thumbShimmer 1.25s linear infinite;
    }

    .catalog-card .thumb.is-ready,
    .product .thumb.is-ready {
      animation: none;
    }

    @keyframes thumbShimmer {
      to {
        background-position: -220% 0;
      }
    }

    .catalog-card h3 {
      font-size: 20px;
      margin-top: 4px;
    }

    .catalog-card p {
      color: var(--muted);
      font-size: 15px;
    }

    .catalog-card p {
      color: var(--muted);
    }

    .highlights {
      background: transparent;
      border-radius: 0;
      padding: 0;
      display: grid;
      gap: 18px;
    }

    .highlights .item {
      display: flex;
      gap: 14px;
      align-items: flex-start;
    }

    .highlights .dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--accent-2);
      margin-top: 6px;
    }

    .product {
      display: grid;
      gap: 6px;
      border-radius: var(--radius-md);
      background: #fff;
      padding: 18px;
      border: 1px solid rgba(28, 23, 20, 0.08);
      box-shadow: 0 10px 24px rgba(28, 23, 20, 0.08);
      content-visibility: auto;
      contain-intrinsic-size: 520px;
      transition:
        transform 0.32s var(--ui-ease),
        box-shadow 0.32s var(--ui-ease),
        border-color 0.24s var(--ui-ease);
    }

    .product .thumb {
      border-radius: 16px;
      height: 180px;
      background: #f5e4d5 center/cover no-repeat;
      display: grid;
      place-items: center;
      font-family: "Prata", serif;
      font-size: 20px;
      color: rgba(28, 23, 20, 0.55);
      text-align: center;
      padding: 16px;
      overflow: hidden;
      position: relative;
      isolation: isolate;
    }

    .product .thumb-track {
      position: absolute;
      inset: 0;
    }

    .product .thumb-slide {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: 50% 48%;
      opacity: 0;
      transform: scale(1.02);
      transition: opacity 320ms ease, transform 420ms ease;
      pointer-events: none;
      user-select: none;
      -webkit-user-drag: none;
    }

    .product .thumb-slide.active {
      opacity: 1;
      transform: scale(1);
    }

    .product .thumb-dots {
      position: absolute;
      left: 10px;
      right: 10px;
      bottom: 10px;
      display: grid;
      grid-auto-flow: column;
      gap: 6px;
      z-index: 2;
    }

    .product .thumb-dot {
      height: 3px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.5);
      border: none;
      padding: 0;
      cursor: pointer;
      transition: background 180ms ease;
    }

    .product .thumb-dot.active {
      background: rgba(255, 255, 255, 0.92);
    }

    .product .thumb-overlay {
      position: absolute;
      inset: auto 0 0;
      height: 44px;
      background: linear-gradient(180deg, transparent 0%, rgba(15, 10, 8, 0.22) 100%);
      z-index: 1;
      pointer-events: none;
      display: none;
    }

    .product .meta {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      font-size: 14px;
      color: var(--muted);
    }

    .product .price {
      font-weight: 700;
      font-size: 18px;
      color: var(--accent);
    }

    .catalog-card,
    .product,
    .product > * {
      min-width: 0;
    }

    .product h3 {
      font-size: 20px;
      line-height: 1.25;
      overflow-wrap: anywhere;
    }

    .product p {
      font-size: 16px;
      line-height: 1.52;
      overflow-wrap: anywhere;
      word-break: normal;
      hyphens: auto;
    }


    .cart-button {
      position: relative;
    }

    .cart-float {
      position: fixed;
      top: 18px;
      right: 18px;
      z-index: 80;
      box-shadow: 0 12px 24px rgba(28, 23, 20, 0.18);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease, transform 0.2s ease;
      transform: translateY(-6px);
    }

    .cart-float.show {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .cart-float {
      padding: 10px 14px;
      gap: 8px;
      font-size: 13px;
      height: 40px;
      align-items: center;
    }

    .float-btn {
      padding: 10px 14px;
      gap: 8px;
      font-size: 13px;
      height: 40px;
      align-items: center;
      box-shadow: 0 12px 24px rgba(28, 23, 20, 0.18);
      border: 2px solid rgba(200, 87, 45, 0.45);
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition:
        background-color 0.24s var(--ui-ease),
        border-color 0.24s var(--ui-ease),
        box-shadow 0.3s var(--ui-ease),
        color 0.24s var(--ui-ease),
        transform 0.3s var(--ui-ease);
    }

    .float-btn:hover,
    .float-btn:focus-visible {
      background: rgba(255, 255, 255, 0.96);
      border-color: var(--accent);
      box-shadow: 0 14px 28px rgba(28, 23, 20, 0.2);
      color: var(--accent);
      transform: translateY(-1px);
    }

    .cart-float .cart-label {
      display: none;
    }

    .cart-icon {
      width: 20px;
      height: 20px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
    }

    .cart-icon svg {
      width: 20px;
      height: 20px;
    }

    .cart-badge {
      margin-left: 6px;
    }

    .cart-float .cart-label {
      display: none;
    }

    .cart-float.compact .cart-badge {
      display: none;
    }

    .cart-float.compact .cart-icon {
      display: inline-block;
    }

    .cart-float.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .catalog-float {
      position: fixed;
      top: 18px;
      right: 120px;
      z-index: 85;
      display: inline-flex;
      align-items: center;
      padding: 0;
      background: transparent;
      border: none;
      width: auto;
      height: auto;
      opacity: 0;
      pointer-events: none;
      transform: translateY(-6px);
      transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .catalog-float.show {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .catalog-float.hidden {
      opacity: 0;
      pointer-events: none;
      transform: translateY(-6px);
    }

    .catalog-float > .btn {
      padding: 10px 14px;
      height: 40px;
      align-items: center;
    }

    .catalog-float-menu {
      position: absolute;
      top: 44px;
      right: 0;
      display: none;
      gap: 6px;
      padding: 10px;
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 12px 24px rgba(28, 23, 20, 0.12);
      opacity: 0;
      transform: translateY(-6px);
      pointer-events: none;
      transition: opacity 0.18s ease, transform 0.18s ease;
      min-width: 180px;
      visibility: hidden;
      padding-top: 14px;
    }

    .catalog-float.menu-open .catalog-float-menu {
      display: grid;
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
      visibility: visible;
    }

    .catalog-float::after {
      content: "";
      position: absolute;
      top: 38px;
      right: 0;
      width: 100%;
      height: 16px;
    }

    .cart-count {
      background: var(--accent);
      color: #fff;
      font-size: 12px;
      font-weight: 700;
      border-radius: 999px;
      padding: 4px 8px;
    }
    .cart-count {
      background: var(--accent);
      color: #fff;
      font-size: 12px;
      font-weight: 700;
      border-radius: 999px;
      padding: 4px 8px;
    }

    .cart-overlay {
      position: fixed;
      inset: 0;
      background: rgba(28, 23, 20, 0.45);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease;
      z-index: 60;
    }

    .cart-overlay.open {
      opacity: 1;
      pointer-events: auto;
    }

    .cart-drawer {
      position: fixed;
      top: 10px;
      right: 10px;
      width: 460px;
      height: 726px;
      background: var(--card);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: var(--shadow);
      transform: translateX(110%);
      transition: transform 0.25s ease;
      z-index: 70;
      display: grid;
      grid-template-rows: 73px 1fr auto;
    }

    .cart-drawer.open {
      transform: translateX(0);
    }

    .cart-header {
      position: relative;
      height: 73px;
      padding: 0 18px;
      display: flex;
      align-items: center;
    }

    .cart-title {
      font-size: 24px;
      font-weight: 700;
      color: var(--ink);
      margin-left: 12px;
    }

    .cart-actions {
      position: absolute;
      right: 18px;
      top: 23px;
      display: inline-flex;
      gap: 12px;
      align-items: center;
    }

    .cart-clear {
      width: 98px;
      height: 37px;
      border-radius: 18.5px;
      border: none;
      background: var(--bg-deep);
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      color: var(--ink);
      transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
    }

    .cart-close {
      width: 37px;
      height: 37px;
      border-radius: 18.5px;
      border: none;
      background: var(--bg-deep);
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      color: var(--ink);
      transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
    }

    .cart-clear:hover,
    .cart-close:hover {
      background: #e9e0d8;
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(28, 23, 20, 0.12);
    }

    .cart-items {
      display: grid;
      gap: 14px;
      overflow-y: auto;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: contain;
      padding: 0;
      padding-left: 22px;
      padding-right: 22px;
      padding-top: 14px;
      justify-items: start;
      align-content: start;
    }

    .cart-item {
      width: 416px;
      min-height: 104px;
      display: grid;
      grid-template-columns: 70px 1fr 100px;
      grid-template-rows: auto auto;
      column-gap: 12px;
      align-items: center;
      padding: 12px 14px;
      border-radius: 16px;
      background: #fff;
      border: 1px solid rgba(28, 23, 20, 0.08);
      box-shadow: 0 10px 24px rgba(28, 23, 20, 0.08);
    }

    .cart-item img {
      width: 70px;
      height: 70px;
      border-radius: 15px;
      object-fit: cover;
      background: #d9d9d9;
      grid-row: 1 / span 2;
    }

    .cart-item-info {
      display: grid;
      gap: 4px;
      min-width: 0;
      grid-column: 2 / 3;
      grid-row: 1 / span 2;
    }

    .cart-item-name {
      font-weight: 600;
      font-size: 14px;
      white-space: normal;
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      color: var(--ink);
      align-self: end;
    }

    .cart-item-sub {
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--muted);
      font-size: 13px;
      font-weight: 600;
      align-self: start;
    }

    .product-qty {
      display: grid;
      grid-template-columns: 30px minmax(24px, auto) 30px;
      align-items: center;
      justify-items: center;
      gap: 4px;
      border: 1px solid rgba(200, 87, 45, 0.35);
      border-radius: 999px;
      background: #fff;
      color: var(--ink);
      font-weight: 600;
      box-shadow: 0 6px 14px rgba(28, 23, 20, 0.08);
    }

    .product-qty {
      height: 44px;
      padding: 4px;
      grid-template-columns: 34px minmax(28px, auto) 34px;
    }

    .product-qty.appear {
      animation: popIn 220ms ease;
    }

    .btn-primary.appear {
      animation: fadeInUp 180ms ease;
    }

    @keyframes popIn {
      0% { transform: scale(0.92); opacity: 0; }
      65% { transform: scale(1.04); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes fadeInUp {
      0% { transform: translateY(2px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }

    .product-qty button {
      width: 100%;
      height: 100%;
      border-radius: 999px;
      border: none;
      background: rgba(200, 87, 45, 0.12);
      cursor: pointer;
      font-weight: 700;
      color: var(--accent);
      line-height: 0;
      font-size: 0;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      transition:
        transform 0.22s var(--ui-ease),
        background-color 0.22s var(--ui-ease),
        color 0.22s var(--ui-ease),
        box-shadow 0.22s var(--ui-ease);
    }

    .product-qty .qty-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .product-qty .qty-icon svg {
      width: 14px;
      height: 14px;
      display: block;
    }

    .product-qty button:hover {
      background: rgba(200, 87, 45, 0.2);
      transform: translateY(-1px);
    }

    .product-qty > span {
      min-width: 24px;
      text-align: center;
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 0.01em;
    }

    .hero-actions {
      min-height: 44px;
      align-items: center;
    }

    .hero-actions .btn {
      height: 44px;
      align-items: center;
    }

    .cart-qty {
      display: grid;
      grid-template-columns: 26px 34px 26px;
      column-gap: 4px;
      align-items: center;
      justify-items: center;
      width: max-content;
      height: 34px;
      padding: 3px;
      border-radius: 999px;
      border: 1px solid rgba(229, 75, 75, 0.24);
      background: linear-gradient(180deg, #fff 0%, #fdf7f3 100%);
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.9);
    }

    .cart-qty button {
      width: 26px;
      height: 26px;
      border: none;
      border-radius: 999px;
      background: rgba(229, 75, 75, 0.12);
      color: var(--accent);
      cursor: pointer;
      font-weight: 700;
      font-size: 0;
      line-height: 0;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition:
        transform 0.22s var(--ui-ease),
        background-color 0.22s var(--ui-ease),
        color 0.22s var(--ui-ease),
        box-shadow 0.22s var(--ui-ease);
    }

    .cart-qty .qty-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .cart-qty .qty-icon svg {
      width: 13px;
      height: 13px;
      display: block;
    }

    .cart-qty button:hover {
      background: rgba(229, 75, 75, 0.2);
      transform: translateY(-1px);
    }

    .cart-qty > span {
      min-width: 30px;
      text-align: center;
      color: var(--ink);
      font-weight: 700;
      font-size: 16px;
      line-height: 1;
      letter-spacing: 0.01em;
    }

    .cart-item-total {
      font-weight: 700;
      color: var(--ink);
      font-size: 14px;
      white-space: nowrap;
      justify-self: end;
      grid-column: 3;
      grid-row: 1 / span 2;
      align-self: center;
    }

    .cart-summary {
      display: grid;
      gap: 10px;
      padding: 14px 22px 18px;
      border-top: 1px solid rgba(28, 23, 20, 0.08);
      background: #fff;
    }

    .cart-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
      color: #6f6464;
      font-size: 16px;
      font-weight: 600;
    }

    #cartToOrder {
      position: relative;
    }

    #cartToOrder.is-disabled {
      opacity: 0.55;
      cursor: not-allowed;
      pointer-events: auto;
      filter: saturate(0.75);
      box-shadow: none;
      transform: none;
    }

    #cartToOrder.is-disabled:hover {
      transform: none;
      box-shadow: none;
    }

    #cartToOrder.is-disabled::after {
      content: attr(data-tooltip);
      position: absolute;
      left: 50%;
      bottom: calc(100% + 10px);
      transform: translate(-50%, 6px);
      opacity: 0;
      width: max-content;
      max-width: 280px;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid rgba(43, 31, 26, 0.14);
      background: rgba(255, 255, 255, 0.98);
      color: var(--ink);
      font-size: 12px;
      font-weight: 500;
      line-height: 1.25;
      box-shadow: 0 10px 22px rgba(28, 23, 20, 0.16);
      pointer-events: none;
      z-index: 5;
      transition: opacity 0.18s ease, transform 0.18s ease;
      text-align: center;
      white-space: normal;
    }

    #cartToOrder.is-disabled:hover::after,
    #cartToOrder.is-disabled:focus-visible::after {
      opacity: 1;
      transform: translate(-50%, 0);
    }

    .cart-empty {
      text-align: center;
      color: #7d6f6f;
      padding: 24px 0;
    }

    .delivery {
      display: grid;
      gap: 18px;
    }

    .delivery .card {
      border: 1px solid rgba(28, 23, 20, 0.08);
    }

    .faq {
      display: grid;
      gap: 12px;
    }

    details {
      background: #fff;
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 8px 20px rgba(28, 23, 20, 0.08);
      border: 1px solid rgba(28, 23, 20, 0.08);
      transition:
        transform 0.3s var(--ui-ease),
        box-shadow 0.3s var(--ui-ease),
        border-color 0.24s var(--ui-ease);
    }

    summary {
      cursor: pointer;
      font-weight: 600;
      list-style: none;
      transition: color 0.2s var(--ui-ease);
    }

    summary::-webkit-details-marker {
      display: none;
    }

    .order {
      background: linear-gradient(120deg, #f9f0e5, #fff);
      border-radius: var(--radius-lg);
      padding: 32px;
      display: grid;
      gap: 18px;
      box-shadow: var(--shadow);
    }

    .form-grid {
      display: grid;
      gap: 14px;
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    label {
      display: grid;
      gap: 8px;
      font-size: 14px;
      color: var(--muted);
    }

    input,
    textarea,
    select {
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid rgba(28, 23, 20, 0.18);
      font: inherit;
      background: #fff;
      transition:
        border-color 0.22s var(--ui-ease),
        box-shadow 0.26s var(--ui-ease),
        background-color 0.22s var(--ui-ease),
        transform 0.22s var(--ui-ease);
    }

    textarea {
      min-height: 120px;
      resize: vertical;
    }

    .footer {
      padding: 60px 0 40px;
      border-top: 1px solid rgba(28, 23, 20, 0.08);
      background: #f6efe8;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 24px;
      margin-top: 22px;
    }

    .footer a {
      color: var(--muted);
    }

    .btn:focus-visible,
    .btn-link:focus-visible,
    .float-btn:focus-visible,
    .nav-links a:focus-visible,
    .catalog-float-menu a:focus-visible,
    .product-qty button:focus-visible,
    .cart-qty button:focus-visible,
    input:focus-visible,
    textarea:focus-visible,
    select:focus-visible,
    summary:focus-visible {
      outline: none;
      box-shadow: var(--ui-ring), var(--ui-shadow-soft);
    }

    .nav-links a:hover,
    .nav-links a:focus-visible {
      color: var(--accent-3);
    }

    .nav-links a:hover::after,
    .nav-links a:focus-visible::after {
      transform: scaleX(1);
    }

    details[open] summary {
      color: var(--accent-3);
    }

    input:hover,
    textarea:hover,
    select:hover {
      border-color: rgba(200, 87, 45, 0.45);
      background: #fffdfb;
    }

    input:focus-visible,
    textarea:focus-visible,
    select:focus-visible {
      border-color: rgba(200, 87, 45, 0.72);
      transform: translateY(-1px);
    }

    .product-qty button:hover,
    .cart-qty button:hover {
      box-shadow: 0 8px 16px rgba(28, 23, 20, 0.12);
    }

    @media (hover: hover) {
      .btn:hover,
      .btn-link:hover,
      .float-btn:hover {
        transform: translateY(-2px);
      }

      .catalog-card:hover,
      .product:hover,
      details:hover {
        transform: translateY(-4px);
        box-shadow: var(--ui-shadow-strong);
      }

      .product:hover {
        border-color: rgba(200, 87, 45, 0.22);
      }
    }

    [id] {
      scroll-margin-top: 16px;
    }

    @media (prefers-reduced-motion: reduce) {
      .btn,
      .btn-link,
      .catalog-card,
      .product,
      .float-btn,
      details,
      .product-qty button,
      .cart-qty button,
      .nav-links a,
      input,
      textarea,
      select {
        transition: none !important;
        transform: none !important;
      }
    }

    .ticker {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .review {
      background: #fff;
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 10px 24px rgba(28, 23, 20, 0.08);
    }

    .review strong {
      display: block;
      margin-bottom: 6px;
    }

    .flow-stage {
      --flow-stage-progress: 0;
      position: relative;
    }

    body.flow-motion-enabled .flow-reveal {
      --flow-reveal-y: 28px;
      --flow-reveal-scale: 0.956;
      --flow-stage-y: 0px;
      --flow-stage-scale: 1;
      --flow-delay: 0ms;
      opacity: 0;
      transform: translate3d(0, calc(var(--flow-reveal-y) + var(--flow-stage-y)), 0) scale(calc(var(--flow-reveal-scale) * var(--flow-stage-scale)));
      filter: blur(10px);
      transition:
        transform 0.84s cubic-bezier(0.22, 1, 0.36, 1),
        opacity 0.72s cubic-bezier(0.22, 1, 0.36, 1),
        filter 0.62s cubic-bezier(0.22, 1, 0.36, 1);
      transition-delay: var(--flow-delay);
      will-change: transform, opacity, filter;
    }

    body.flow-motion-enabled .flow-reveal.is-visible {
      opacity: 1;
      transform: translate3d(0, var(--flow-stage-y), 0) scale(var(--flow-stage-scale));
      filter: blur(0);
    }

    body.flow-motion-enabled.flow-primed:not(.has-scrolled-once) .flow-reveal[data-defer="1"] {
      opacity: 0;
      transform: translate3d(0, 34px, 0) scale(0.95);
      filter: blur(12px);
    }

    .delay-1 { --flow-delay: 0.08s; }
    .delay-2 { --flow-delay: 0.16s; }
    .delay-3 { --flow-delay: 0.24s; }
    .delay-4 { --flow-delay: 0.32s; }

    .category-section.flow-stage .section-title {
      position: sticky;
      top: clamp(72px, 9vh, 104px);
      z-index: 18;
      margin-inline: 0;
      padding: 0;
      border: none;
      background: transparent;
      box-shadow: none;
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
    }

    .category-section.flow-stage .section-title h2 {
      transform: translate3d(0, calc((1 - var(--flow-stage-progress)) * 6px), 0);
      transition: transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
    }

    @media (max-width: 900px) {
      .category-section.flow-stage .section-title {
        top: 70px;
        margin-inline: 0;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      body.flow-motion-enabled .flow-reveal,
      body.flow-motion-enabled .flow-reveal.is-visible {
        transition: none;
        transform: none;
        filter: none;
        opacity: 1;
        animation: none;
      }
    }


    /* Cart refresh: cleaner, modern look */
    .cart-drawer {
      background: #fff;
      border: 1px solid rgba(42, 34, 32, 0.08);
      box-shadow: 0 24px 60px rgba(42, 34, 32, 0.18);
    }

    .cart-header {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.98) 0%, rgba(250, 246, 243, 0.95) 100%);
      border-bottom: 1px solid rgba(42, 34, 32, 0.06);
    }

    .cart-item {
      background: #ffffff;
      border: 1px solid rgba(42, 34, 32, 0.08);
      box-shadow: 0 12px 24px rgba(42, 34, 32, 0.08);
    }

    .cart-item-name {
      color: #211a18;
      letter-spacing: -0.01em;
    }

    .cart-item-sub {
      color: #6c5f5c;
    }

    .cart-clear,
    .cart-close {
      background: #f1e7df;
    }

    @media (max-width: 1180px) {
      .nav {
        flex-wrap: wrap;
        align-items: center;
      }

      .nav-links {
        order: 3;
        width: 100%;
        justify-content: center;
      }

      .nav-cta {
        order: 2;
        margin-left: auto;
        justify-content: flex-end;
        flex-wrap: wrap;
      }
    }

    @media (max-width: 980px) {
      .hero-grid,
      .grid-3,
      .grid-2,
      .footer-grid,
      .form-grid {
        grid-template-columns: 1fr;
      }

      .nav {
        flex-direction: column;
        align-items: stretch;
        gap: 14px;
      }

      .nav-links {
        order: 2;
        width: 100%;
        justify-content: flex-start;
        flex-wrap: wrap;
        gap: 14px 18px;
      }

      .nav-cta {
        order: 3;
        width: 100%;
        justify-content: flex-start;
        flex-wrap: wrap;
      }

      .nav-cta .pill {
        flex: 1 1 100%;
        justify-content: center;
      }

      .nav-cta .btn {
        flex: 1 1 220px;
      }

      .hero-visual {
        min-height: 320px;
      }
    }

    @media (max-width: 640px) {
      .hero {
        padding: 48px 0 72px;
      }

      .section {
        padding: 60px 0;
      }

      .catalog-intro {
        margin-bottom: 20px;
      }

      .catalog-intro .muted {
        max-width: none;
        padding: 0;
      }

      .category-section {
        padding: 30px 0 42px;
      }

      .hero-card {
        padding: 20px;
      }

      .btn {
        width: 100%;
        justify-content: center;
      }

      .nav-links {
        gap: 10px 14px;
      }

      .nav-cta .btn {
        flex: 1 1 100%;
      }

      .float-btn,
      .catalog-float > .btn,
      .cart-float {
        width: auto;
      }

      .cart-float,
      .catalog-float {
        top: calc(env(safe-area-inset-top, 0px) + 10px);
        bottom: auto;
      }

      .cart-float {
        right: 12px;
      }

      .catalog-float {
        right: 112px;
      }

      .catalog-float-menu {
        top: 44px;
        bottom: auto;
      }

      .catalog-float::after {
        top: 38px;
        bottom: auto;
      }

      .section-title h2 {
        font-size: clamp(24px, 7vw, 32px);
      }

      .product {
        padding: 14px;
        gap: 10px;
      }

      .product .thumb {
        height: 190px;
      }

      .product h3 {
        font-size: 18px;
        line-height: 1.24;
      }

      .product p {
        font-size: 16px;
        line-height: 1.48;
      }

      .cart-drawer {
        top: calc(env(safe-area-inset-top, 0px) + 8px);
        right: 8px;
        left: 8px;
        width: auto;
        height: calc(100dvh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px) - 16px);
        max-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px) - 16px);
        border-radius: 18px;
      }

      .cart-header {
        height: auto;
        min-height: 64px;
        padding: 12px 14px;
      }

      .cart-title {
        margin-left: 0;
        font-size: 34px;
        line-height: 1;
      }

      .cart-actions {
        position: static;
        margin-left: auto;
        gap: 8px;
      }

      .cart-clear {
        width: auto;
        min-width: 92px;
        padding: 0 14px;
        height: 34px;
        font-size: 15px;
      }

      .cart-close {
        width: 34px;
        height: 34px;
      }

      .cart-items {
        padding: 12px;
        gap: 10px;
      }

      .cart-item {
        width: 100%;
        min-width: 0;
        grid-template-columns: 56px minmax(0, 1fr);
        grid-template-rows: auto auto auto;
        row-gap: 8px;
        column-gap: 10px;
        padding: 10px 12px;
      }

      .cart-item img {
        width: 56px;
        height: 56px;
        grid-row: 1 / span 3;
      }

      .cart-item-info {
        grid-column: 2;
        grid-row: 1 / span 2;
      }

      .cart-item-sub {
        flex-wrap: wrap;
        gap: 8px;
      }

      .cart-item-total {
        grid-column: 2;
        grid-row: 3;
        justify-self: start;
      }

      .cart-summary {
        padding: 12px;
        gap: 8px;
      }

      .cart-row {
        font-size: 14px;
        align-items: flex-start;
      }

      .cart-row > :last-child {
        text-align: right;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="container nav">
        <div class="logo">
          <img src="../assets/images/logo-figma.svg" alt="Уральские пельмешки">
        </div>
        <nav class="nav-links">
          <a href="../index.html">Главная</a>
          <a href="#catalog">Каталог</a>
          <a href="../index.html#delivery">Доставка</a>
          <a href="../index.html#reviews">Отзывы</a>
          <a href="../index.html#faq">FAQ</a>
        </nav>
        <div class="nav-cta">
          <span class="pill">Контакты по запросу</span>
          <button class="btn btn-ghost cart-button" type="button" id="cartOpen">
            <span class="cart-label">Корзина</span>
            <span class="cart-count" id="cartCount">0</span>
          </button>
          <a class="btn btn-primary" href="../index.html#order">Заказать</a>
        </div>
      </div>
      </header>

    <div class="catalog-float" id="catalogFloat" aria-label="Каталог">
      <button class="btn btn-ghost float-btn" type="button">Каталог</button>
      <div class="catalog-float-menu">
        <a class="btn-link" href="#catalog">Все категории</a>
        <a class="btn-link" href="#cat-pelmeni-hand">Пельмешки</a>
        <a class="btn-link" href="#cat-vareniki">Вареники</a>
        <a class="btn-link" href="#cat-manty">Манты</a>
        <a class="btn-link" href="#cat-blinchiki">Блинчики</a>
        <a class="btn-link" href="#cat-polufab">Полуфабрикаты</a>
        <a class="btn-link" href="#cat-auto">Автоматные</a>
      </div>
    </div>
    <button class="btn btn-ghost cart-button cart-float float-btn" type="button" id="cartFloat" aria-hidden="true">
      <span class="cart-icon" aria-hidden="true"><svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M7 6h14l-1.4 7.1a2 2 0 0 1-2 1.6H10a2 2 0 0 1-2-1.6L6.3 4H3" stroke="currentColor" stroke-width="1.6" fill="none" stroke-linecap="round" stroke-linejoin="round"/><circle cx="10" cy="18" r="1.5" fill="currentColor"/><circle cx="17" cy="18" r="1.5" fill="currentColor"/></svg></span>
      <span class="cart-count cart-badge" id="cartCountFloat">0</span>
    </button>


    <section class="section" id="catalog">
      <div class="container">
        <div class="section-title catalog-intro">
          <div>
            <div class="eyebrow">Ассортимент</div>
            <h2>Исследуйте наш вкусный каталог</h2>
          </div>
          <p class="muted">Классика и смелые сочетания, приготовленные нами с душой.</p>
        </div>
        <div class="grid grid-3">
          <a class="card catalog-card" href="#cat-pelmeni-hand">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3530-3237-4336-b632-303761323261/-/format/webp/ca3c3b07b310273651ac496dcc36e70f.jpg.webp"></div>
            <h3>Пельмешки ручной лепки</h3>
            <p>Эталонный вкус, сочная начинка и тонкое тесто. Та самая домашняя классика.</p>
          </a>
          <a class="card catalog-card" href="#cat-vareniki">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6361-3262-4134-a233-626666343864/-/format/webp/bbb4ad03bc96fc1897c51c5b84ef26ec.jpg.webp"></div>
            <h3>Вареники</h3>
            <p>От нежных творожных и ягодных до сытных с картошкой, грибами и салом.</p>
          </a>
          <a class="card catalog-card" href="#cat-manty">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6233-6439-4535-b230-366338376661/-/format/webp/40607f56e1f5b22979f1d1c4aeb9c2cd.jpg.webp"></div>
            <h3>Манты, хинкали, чебуреки</h3>
            <p>Ручная лепка сохраняет внутри бульон, делая каждую порцию сочной.</p>
          </a>
          <a class="card catalog-card" href="#cat-blinchiki">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6563-6631-4537-a435-343336633231/-/format/webp/1d09c91f32aff8c76100ddb68528a191.jpg.webp"></div>
            <h3>Блинчики с начинкой</h3>
            <p>Тонкие блинчики с любимыми начинками для завтраков и десертов.</p>
          </a>
          <a class="card catalog-card" href="#cat-polufab">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3963-6563-4262-a264-303337623063/-/format/webp/aafbfbaba00f51f97982ecb61b46ef24.jpg.webp"></div>
            <h3>Замороженные полуфабрикаты</h3>
            <p>Домашние котлеты, фрикадельки и голубцы из отборного мяса.</p>
          </a>
          <a class="card catalog-card" href="#cat-auto">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp"></div>
            <h3>Пельмешки автоматной лепки</h3>
            <p>Быстрый вариант для ежедневных ужинов и семейных запасов.</p>
          </a>
        </div>
      </div>
    </section>

    <section class="section category-section" id="cat-pelmeni-hand">
      <div class="container">
        <div class="section-title">
          <div>
            <h2>Пельмешки ручной лепки</h2>
          </div>
        </div>
        <div class="grid grid-3" id="handPelmeniGrid">
          <article class="product" data-id="pelmeni-beef-pork" data-price="1300" data-image="https://optim.tildacdn.com/stor3863-3335-4863-a238-333038353538/-/format/webp/676b289183d23623e24ed10a05a7c8bf.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3863-3335-4863-a238-333038353538/-/format/webp/676b289183d23623e24ed10a05a7c8bf.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 300 ₽</span>
            </div>
            <h3>Пельмени с говядиной и свининой</h3>
            <p>Эталон сбалансированного вкуса. Соотношение говядины и свинины по уральскому рецепту. Настоящий мясной фарш, не пастообразный, с четкой текстурой. Тесто тонкое и эластичное.</p>
            <p><strong>Состав:</strong> Фарш: говядина, свинина, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="pelmeni-beef-pork">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="pelmeni-elite" data-price="1400" data-image="https://optim.tildacdn.com/stor3530-3237-4336-b632-303761323261/-/format/webp/ca3c3b07b310273651ac496dcc36e70f.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3530-3237-4336-b632-303761323261/-/format/webp/ca3c3b07b310273651ac496dcc36e70f.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 400 ₽</span>
            </div>
            <h3>Пельмени «Элита» (говядина)</h3>
            <p>Пельмени премиум-класса с начинкой из отборной говядины. Дают насыщенный вкус и ароматный бульон внутри. Крупные, сочные, с характерной формой ручной лепки.</p>
            <p><strong>Состав:</strong> Фарш: говядина, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="pelmeni-elite">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="pelmeni-beef-turkey" data-price="1350" data-image="https://optim.tildacdn.com/stor6363-3832-4664-b933-393062343236/-/format/webp/9ab189ab8271ec509aa51c0f6c333edd.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6363-3832-4664-b933-393062343236/-/format/webp/9ab189ab8271ec509aa51c0f6c333edd.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 350 ₽</span>
            </div>
            <h3>Пельмени с говядиной и индейкой</h3>
            <p>Сбалансированный и лёгкий вариант. Нежное филе индейки смягчает вкус говядины. Рекомендованы для детского и диетического питания.</p>
            <p><strong>Состав:</strong> Фарш: говядина, индейка, лук репчатый, соль, перец. Тесто: мука пшеничной в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="pelmeni-beef-turkey">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="pelmeni-sitnye" data-price="1250" data-image="https://optim.tildacdn.com/stor3336-3336-4233-b364-366132616432/-/format/webp/15a68b9eb64aa505b14e83bb45104d44.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3336-3336-4233-b364-366132616432/-/format/webp/15a68b9eb64aa505b14e83bb45104d44.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 250 ₽</span>
            </div>
            <h3>Пельмени «Сытные» (говядина, свинина, сало)</h3>
            <p>Основательный вариант с добавлением свиного сала для максимальной сочности и насыщенного вкуса. Тесто из муки первого сорта. Форма с закругленными ушками.</p>
            <p><strong>Состав:</strong> Фарш: свинина, говядина, сало свиное, лук репчатый, соль, перец. Тесто: мука пшеничная 1 сорт, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="pelmeni-sitnye">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="pelmeni-zakus" data-price="1100" data-image="https://optim.tildacdn.com/stor6632-6264-4063-b639-333731663637/-/format/webp/5c3e5002a7d7d2a522f4078756c6edeb.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6632-6264-4063-b639-333731663637/-/format/webp/5c3e5002a7d7d2a522f4078756c6edeb.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 100 ₽</span>
            </div>
            <h3>Пельмени «Закусочные» (говядина, свинина, курица)</h3>
            <p>Универсальный вариант с тройной мясной начинкой. Сочетание говядины, свинины и куриного бедра создает комплексный, яркий вкус для быстрого и сытного ужина.</p>
            <p><strong>Состав:</strong> Фарш: говядина, свинина, филе куриного бедра, лук, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="pelmeni-zakus">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="pelmeni-semeinye" data-price="1300" data-image="https://optim.tildacdn.com/stor3863-3464-4235-a335-653164383538/-/format/webp/ddb9303483ec6c69ee212bcf131a94ce.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3863-3464-4235-a335-653164383538/-/format/webp/ddb9303483ec6c69ee212bcf131a94ce.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 300 ₽</span>
            </div>
            <h3>Пельмени «Семейные» (говядина и курица)</h3>
            <p>Альтернатива для тех, кто не ест свинину. Нежное куриное филе с говядиной создают легкий, но насыщенный вкус, подходящий для взрослых и детей.</p>
            <p><strong>Состав:</strong> Фарш: говядина, филе куриной грудки, филе куриного бедра, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="pelmeni-semeinye">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="pelmeni-kolibri" data-price="1600" data-image="https://optim.tildacdn.com/stor3661-6365-4262-a136-656437633833/-/format/webp/7ead4509f23448325f7757c753501716.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3661-6365-4262-a136-656437633833/-/format/webp/7ead4509f23448325f7757c753501716.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 600 ₽</span>
            </div>
            <h3>Пельмени «Колибри»</h3>
            <p>Небольшие пельмени, идеальные для добавления в суп или быстрой варки. Сбалансированный фарш раскрывается в бульоне. Отлично подходят для детских порций.</p>
            <p><strong>Состав:</strong> Фарш: говядина, свинина, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="pelmeni-kolibri">В корзину</button>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="section category-section" id="cat-vareniki">
      <div class="container">
        <div class="section-title">
          <div>
            <h2>Вареники</h2>
          </div>
        </div>
        <div class="grid grid-3">
          <article class="product" data-id="vareniki-potato-onion" data-price="750" data-image="https://optim.tildacdn.com/stor6138-3331-4132-b261-373966306462/-/format/webp/5cc0cb7de2bd17d282d22a85af9daa91.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6138-3331-4132-b261-373966306462/-/format/webp/5cc0cb7de2bd17d282d22a85af9daa91.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">750 ₽</span>
            </div>
            <h3>Вареники с картофелем и луком</h3>
            <p>Классика, которая никогда не подводит. Нежное картофельное пюре с пассерованным луком в тонком тесте.</p>
            <p><strong>Состав:</strong> Начинка: картофель, лук, соль, перец, растительное масло. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="vareniki-potato-onion">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="vareniki-potato-mushrooms" data-price="570" data-image="https://optim.tildacdn.com/stor6561-6264-4536-a436-303938393936/-/format/webp/5f0083652e11117103d7f29d2df54d2e.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6561-6264-4536-a436-303938393936/-/format/webp/5f0083652e11117103d7f29d2df54d2e.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">570 ₽</span>
            </div>
            <h3>Вареники с картофелем и грибами</h3>
            <p>Сытное и ароматное сочетание для гурманов. Картофель и вешенки дают насыщенный вкус.</p>
            <p><strong>Состав:</strong> Начинка: картофель, грибы вешенка, лук. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="vareniki-potato-mushrooms">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="vareniki-raw-potato-bacon" data-price="800" data-image="https://optim.tildacdn.com/stor3231-6631-4631-b165-343135396566/-/format/webp/b986c4de6115139235f9d3a7a0d57d81.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3231-6631-4631-b165-343135396566/-/format/webp/b986c4de6115139235f9d3a7a0d57d81.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">800 ₽</span>
            </div>
            <h3>Вареники с сырым картофелем, луком и салом</h3>
            <p>Наваристый деревенский вариант: сырой картофель кубиком, сало и лук томятся вместе.</p>
            <p><strong>Состав:</strong> Начинка: сырой картофель, сало свиное, лук, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="vareniki-raw-potato-bacon">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="vareniki-sauerkraut" data-price="900" data-image="https://optim.tildacdn.com/stor3132-6231-4438-a235-663466303439/-/format/webp/2a634f69148f2de090a9ff1d89d3284e.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3132-6231-4438-a235-663466303439/-/format/webp/2a634f69148f2de090a9ff1d89d3284e.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">900 ₽</span>
            </div>
            <h3>Вареники с квашеной капустой</h3>
            <p>Традиционный постный вариант с приятной кислинкой. Квашеная капуста тушена с луком.</p>
            <p><strong>Состав:</strong> Начинка: капуста квашеная, растительное масло, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="vareniki-sauerkraut">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="vareniki-adyghe" data-price="900" data-image="https://optim.tildacdn.com/stor3030-3862-4137-a337-633231653066/-/format/webp/39b4077f1c2d2c0ff878e2c1d00e911f.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3030-3862-4137-a337-633231653066/-/format/webp/39b4077f1c2d2c0ff878e2c1d00e911f.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">900 ₽</span>
            </div>
            <h3>Вареники с адыгейским сыром</h3>
            <p>Нежный вариант для любителей сыра: мягкий адыгейский сыр тает во рту.</p>
            <p><strong>Состав:</strong> Начинка: сыр адыгейский. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="vareniki-adyghe">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="vareniki-sweet-curd" data-price="970" data-image="https://optim.tildacdn.com/stor3063-3134-4637-b966-646530633435/-/format/webp/e2b36ff7ba7ac1ae4d845cbb10177d38.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3063-3134-4637-b966-646530633435/-/format/webp/e2b36ff7ba7ac1ae4d845cbb10177d38.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">970 ₽</span>
            </div>
            <h3>Вареники с творогом (сладкие)</h3>
            <p>Нежный десерт с детства: сладкие вареники с творогом для уютных чаепитий.</p>
            <p><strong>Состав:</strong> Начинка: творог, сахар, яйцо куриное, ванилин. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="vareniki-sweet-curd">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="vareniki-cherry" data-price="1350" data-image="https://optim.tildacdn.com/stor6361-3262-4134-a233-626666343864/-/format/webp/bbb4ad03bc96fc1897c51c5b84ef26ec.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6361-3262-4134-a233-626666343864/-/format/webp/bbb4ad03bc96fc1897c51c5b84ef26ec.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 350 ₽</span>
            </div>
            <h3>Вареники с вишней</h3>
            <p>Яркий летний десерт круглый год: вишни в легком сладком сиропе внутри нежного теста.</p>
            <p><strong>Состав:</strong> Начинка: вишня свежемороженая, сахар. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="vareniki-cherry">В корзину</button>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="section category-section" id="cat-manty">
      <div class="container">
        <div class="section-title">
          <div>
            <h2>Манты, хинкали, чебуреки</h2>
          </div>
        </div>
        <div class="grid grid-3">
          <article class="product" data-id="manty-beef-pork" data-price="1300" data-image="https://optim.tildacdn.com/stor3937-6166-4438-b737-373438396437/-/format/webp/beed04f8d92660c4ec9ff534ce04a1f9.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3937-6166-4438-b737-373438396437/-/format/webp/beed04f8d92660c4ec9ff534ce04a1f9.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 300 ₽</span>
            </div>
            <h3>Манты с говядиной и свининой</h3>
            <p>Классические манты с сочной мясной начинкой. Лепка в форме кошелька сохраняет внутри ароматный бульон.</p>
            <p><strong>Состав:</strong> Фарш: говядина, свинина, лук, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="manty-beef-pork">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="khinkali-classic" data-price="1300" data-image="https://optim.tildacdn.com/stor3939-3165-4736-a538-643261663762/-/format/webp/539cb8e5a9622a1def3b9416accf3f90.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3939-3165-4736-a538-643261663762/-/format/webp/539cb8e5a9622a1def3b9416accf3f90.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 300 ₽</span>
            </div>
            <h3>Хинкали</h3>
            <p>Настоящие грузинские хинкали с характерной формой, хмели-сунели и большим количеством бульона внутри.</p>
            <p><strong>Состав:</strong> Фарш: говядина, свинина, лук, хмели-сунели, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="khinkali-classic">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="khinkali-greens" data-price="1300" data-image="https://optim.tildacdn.com/stor3736-6539-4238-b033-653531333463/-/format/webp/f409f1d6e2294ff9225c33ff8a123bf9.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3736-6539-4238-b033-653531333463/-/format/webp/f409f1d6e2294ff9225c33ff8a123bf9.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 300 ₽</span>
            </div>
            <h3>Хинкали с зеленью</h3>
            <p>Вариант с кинзой, укропом и петрушкой: яркий свежий вкус, сочная начинка и насыщенный аромат.</p>
            <p><strong>Состав:</strong> Фарш: говядина, свинина, лук, кинза, укроп, петрушка, хмели-сунели, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="khinkali-greens">В корзину</button>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="section category-section" id="cat-blinchiki">
      <div class="container">
        <div class="section-title">
          <div>
            <h2>Блинчики с начинкой</h2>
          </div>
        </div>
        <div class="grid grid-3">
          <article class="product" data-id="bliny-meat" data-price="800" data-image="https://optim.tildacdn.com/stor6563-6631-4537-a435-343336633231/-/format/webp/1d09c91f32aff8c76100ddb68528a191.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6563-6631-4537-a435-343336633231/-/format/webp/1d09c91f32aff8c76100ddb68528a191.jpg.webp"></div>
            <div class="meta">
              <span>500 г</span>
              <span class="price">800 ₽</span>
            </div>
            <h3>Блинчики с мясом</h3>
            <p>Сытные блинчики с классической мясной начинкой из свинины и говядины с луком.</p>
            <p><strong>Состав:</strong> Фарш: свинина, говядина, лук, соль, перец. Тесто: мука пшеничная в/с, молоко, яйцо, масло подсолнечное, соль, сахар.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="bliny-meat">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="bliny-liver" data-price="700" data-image="https://optim.tildacdn.com/stor6132-3339-4534-b438-326533646465/-/format/webp/6af1f87d184406a866c18743478c02f7.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6132-3339-4534-b438-326533646465/-/format/webp/6af1f87d184406a866c18743478c02f7.jpg.webp"></div>
            <div class="meta">
              <span>500 г</span>
              <span class="price">700 ₽</span>
            </div>
            <h3>Блинчики с печенью</h3>
            <p>Нежная начинка из куриной печени с пассерованным луком. Полезный и насыщенный вариант.</p>
            <p><strong>Состав:</strong> Начинка: куриная печень, лук, соль, перец. Тесто: мука пшеничная в/с, молоко, яйцо, масло подсолнечное, соль, сахар.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="bliny-liver">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="bliny-chicken-mushrooms" data-price="750" data-image="https://optim.tildacdn.com/stor6139-3630-4639-b637-316533623131/-/format/webp/0ace15738140c6aba4d22132669dfb7b.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6139-3630-4639-b637-316533623131/-/format/webp/0ace15738140c6aba4d22132669dfb7b.jpg.webp"></div>
            <div class="meta">
              <span>500 г</span>
              <span class="price">750 ₽</span>
            </div>
            <h3>Блинчики с курицей и грибами</h3>
            <p>Лёгкое и сытное сочетание: куриное филе и ароматные вешенки в тонком блинном тесте.</p>
            <p><strong>Состав:</strong> Начинка: грудка куриная, грибы вешенки, соль, перец. Тесто: мука пшеничной в/с, молоко, яйцо, масло подсолнечное, соль, сахар.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="bliny-chicken-mushrooms">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="bliny-curd" data-price="600" data-image="https://optim.tildacdn.com/stor3065-6161-4461-a236-336538616262/-/format/webp/0947a12d02aefe287fe3e4ea1e0ac2cc.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3065-6161-4461-a236-336538616262/-/format/webp/0947a12d02aefe287fe3e4ea1e0ac2cc.jpg.webp"></div>
            <div class="meta">
              <span>500 г</span>
              <span class="price">600 ₽</span>
            </div>
            <h3>Блинчики с творогом</h3>
            <p>Классические сладкие блинчики с нежным творожным наполнителем для завтрака и десерта.</p>
            <p><strong>Состав:</strong> Начинка: творог, сахар, ванилин. Тесто: мука пшеничная в/с, молоко, яйцо, масло подсолнечное, соль, сахар.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="bliny-curd">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="bliny-yabloko" data-price="650" data-image="https://optim.tildacdn.com/stor3436-3461-4236-b265-663930643836/-/format/webp/f71f3873368f3825af15d6c552c3f8d3.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3436-3461-4236-b265-663930643836/-/format/webp/f71f3873368f3825af15d6c552c3f8d3.jpg.webp"></div>
            <div class="meta">
              <span>500 г</span>
              <span class="price">650 ₽</span>
            </div>
            <h3>Блинчики с яблоком</h3>
            <p>Ароматная начинка из печёных яблок, корицы и ванилина. Вкус домашней шарлотки в формате блинчиков.</p>
            <p><strong>Состав:</strong> Начинка: яблоко, корица, ванилин. Тесто: мука пшеничная в/с, молоко, яйцо, масло подсолнечное, соль, сахар.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="bliny-yabloko">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="bliny-cherry" data-price="700" data-image="https://optim.tildacdn.com/stor6662-3337-4035-b237-376434366631/-/format/webp/6773e787c94e28250b3005f05c731752.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor6662-3337-4035-b237-376434366631/-/format/webp/6773e787c94e28250b3005f05c731752.jpg.webp"></div>
            <div class="meta">
              <span>500 г</span>
              <span class="price">700 ₽</span>
            </div>
            <h3>Блинчики с вишней</h3>
            <p>Сочные блинчики с вишней в лёгком сиропе, с приятной кислинкой и ярким вкусом.</p>
            <p><strong>Состав:</strong> Начинка: вишня, сахар. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="bliny-cherry">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="syrniki" data-price="700" data-image="https://optim.tildacdn.com/stor3261-3633-4233-b533-366530646562/-/format/webp/1a61dd32e040ae7544b3ad243d3556ff.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3261-3633-4233-b533-366530646562/-/format/webp/1a61dd32e040ae7544b3ad243d3556ff.jpg.webp"></div>
            <div class="meta">
              <span>500 г</span>
              <span class="price">700 ₽</span>
            </div>
            <h3>Сырники</h3>
            <p>Нежные сырники из творога: мягкие внутри и с аппетитной румяной корочкой снаружи.</p>
            <p><strong>Состав:</strong> Творог, манная крупа, яйцо, масло растительное, ванилин, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="syrniki">В корзину</button>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="section category-section" id="cat-polufab">
      <div class="container">
        <div class="section-title">
          <div>
            <h2>Замороженные полуфабрикаты</h2>
          </div>
        </div>
        <div class="grid grid-3">
          <article class="product" data-id="golubtsy-meat-rice" data-price="1000" data-image="https://optim.tildacdn.com/stor3963-6563-4262-a264-303337623063/-/format/webp/aafbfbaba00f51f97982ecb61b46ef24.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3963-6563-4262-a264-303337623063/-/format/webp/aafbfbaba00f51f97982ecb61b46ef24.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 000 ₽</span>
            </div>
            <h3>Голубцы с мясом и рисом</h3>
            <p>Сытные голубцы в капустных листьях с начинкой из говядины, свинины и риса — домашняя классика.</p>
            <p><strong>Состав:</strong> Говядина, свинина, капуста, рис, лук, соль, перец.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="golubtsy-meat-rice">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="frikadelki" data-price="680" data-image="https://optim.tildacdn.com/stor3334-3136-4965-b966-326436393564/-/format/webp/5bf7454e8601b3b22db1ca664f8a2aea.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3334-3136-4965-b966-326436393564/-/format/webp/5bf7454e8601b3b22db1ca664f8a2aea.jpg.webp"></div>
            <div class="meta">
              <span>500 г</span>
              <span class="price">680 ₽</span>
            </div>
            <h3>Фрикадельки мясные</h3>
            <p>Нежные мясные шарики из говядины и свинины. Идеальны для супов, рагу и гарниров.</p>
            <p><strong>Состав:</strong> Говядина, свинина, лук, соль, перец.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="frikadelki">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="kotlety-domashnie" data-price="680" data-image="https://optim.tildacdn.com/stor3834-6333-4634-b732-303430346234/-/format/webp/04492112726370142655bf4323dc2f6f.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3834-6333-4634-b732-303430346234/-/format/webp/04492112726370142655bf4323dc2f6f.jpg.webp"></div>
            <div class="meta">
              <span>480 г</span>
              <span class="price">680 ₽</span>
            </div>
            <h3>Котлеты домашние</h3>
            <p>Популярный вариант из трёх видов мяса: говядина, свинина и курица. Сочные и универсальные.</p>
            <p><strong>Состав:</strong> Говядина, свинина, филе куриной грудки, лук, соль, перец, сухари панировочные.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="kotlety-domashnie">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="kotlety-ptitsa" data-price="670" data-image="https://optim.tildacdn.com/stor3834-6333-4634-b732-303430346234/-/format/webp/04492112726370142655bf4323dc2f6f.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3834-6333-4634-b732-303430346234/-/format/webp/04492112726370142655bf4323dc2f6f.jpg.webp"></div>
            <div class="meta">
              <span>500 г</span>
              <span class="price">670 ₽</span>
            </div>
            <h3>Котлеты из мяса птицы</h3>
            <p>Диетический вариант из куриной грудки и бедра. Мягкий вкус и высокий белок для лёгкого меню.</p>
            <p><strong>Состав:</strong> Филе грудки курицы, филе бедра курицы, лук, соль, перец, сухари панировочные.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="kotlety-ptitsa">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="kotlety-beef" data-price="730" data-image="https://optim.tildacdn.com/stor3834-6333-4634-b732-303430346234/-/format/webp/04492112726370142655bf4323dc2f6f.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3834-6333-4634-b732-303430346234/-/format/webp/04492112726370142655bf4323dc2f6f.jpg.webp"></div>
            <div class="meta">
              <span>500 г</span>
              <span class="price">730 ₽</span>
            </div>
            <h3>Котлеты из говядины</h3>
            <p>Плотные говяжьи котлеты с насыщенным мясным вкусом для сытного обеда.</p>
            <p><strong>Состав:</strong> Говядина, лук, соль, перец, сухари панировочные.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="kotlety-beef">В корзину</button>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="section category-section" id="cat-auto">
      <div class="container">
        <div class="section-title">
          <div>
            <h2>Пельмешки автоматной лепки</h2>
          </div>
        </div>
        <div class="grid grid-3">
          <article class="product" data-id="auto-beef-pork" data-price="1000" data-image="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 000 ₽</span>
            </div>
            <h3>Пельмешки с говядиной и свининой</h3>
            <p>Классический уральский вкус на каждый день: сочная мясная начинка, тонкое тесто и стабильное качество.</p>
            <p><strong>Состав:</strong> Фарш: говядина, свинина, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="auto-beef-pork">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="auto-elite-beef" data-price="1060" data-image="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">1 060 ₽</span>
            </div>
            <h3>Пельмешки «Элита» с говядиной</h3>
            <p>Премиальный вариант с отборной говядиной: выраженный вкус, сочность и ароматный бульон внутри.</p>
            <p><strong>Состав:</strong> Фарш: говядина, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="auto-elite-beef">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="auto-beef-turkey" data-price="950" data-image="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">950 ₽</span>
            </div>
            <h3>Пельмешки с говядиной и индейкой</h3>
            <p>Более лёгкий и сбалансированный вкус: индейка смягчает говядину и делает начинку менее жирной.</p>
            <p><strong>Состав:</strong> Фарш: говядина, индейка, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="auto-beef-turkey">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="auto-poultry" data-price="930" data-image="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">930 ₽</span>
            </div>
            <h3>Пельмешки из мяса птицы</h3>
            <p>Нежные пельмешки из куриной грудки и бедра: мягкая текстура и сочность без лишней жирности.</p>
            <p><strong>Состав:</strong> Фарш: куриная грудка, куриное бедро, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="auto-poultry">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="auto-sitnye" data-price="950" data-image="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp"></div>
            <div class="meta">
              <span>800 г</span>
              <span class="price">950 ₽</span>
            </div>
            <h3>Пельмешки «Сытные»</h3>
            <p>Плотная мясная начинка из говядины и свинины с насыщенным вкусом для плотного обеда.</p>
            <p><strong>Состав:</strong> Фарш: говядина, свинина, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="auto-sitnye">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="auto-bulon-turkey" data-price="670" data-image="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp"></div>
            <div class="meta">
              <span>450 г</span>
              <span class="price">670 ₽</span>
            </div>
            <h3>Пельмешки «Бульонные» из индейки</h3>
            <p>Небольшие пельмешки из индейки для супов и быстрых порционных подач с лёгким ароматным бульоном.</p>
            <p><strong>Состав:</strong> Фарш: индейка, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="auto-bulon-turkey">В корзину</button>
            </div>
          </article>
          <article class="product" data-id="auto-bulon-classic" data-price="650" data-image="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp">
            <div class="thumb" data-bg="https://optim.tildacdn.com/stor3233-3930-4631-b632-353532316132/-/format/webp/b5b26d20f6f5c9f7ced2e84abd6f49c7.jpg.webp"></div>
            <div class="meta">
              <span>450 г</span>
              <span class="price">650 ₽</span>
            </div>
            <h3>Пельмешки «Бульонные»</h3>
            <p>Компактные пельмешки с классической мясной начинкой, хорошо раскрываются в бульоне.</p>
            <p><strong>Состав:</strong> Фарш: говядина, свинина, лук репчатый, соль, перец. Тесто: мука пшеничная в/с, вода, яйцо, соль.</p>
            <div class="hero-actions">
              <button class="btn btn-primary" data-add="auto-bulon-classic">В корзину</button>
            </div>
          </article>
        </div>
      </div>
    </section>


    <div class="cart-overlay" id="cartOverlay"></div>
    <aside class="cart-drawer" id="cartDrawer" aria-labelledby="cartTitle" aria-hidden="true">
      <div class="cart-header">
        <h3 class="cart-title" id="cartTitle">Корзина</h3>
        <div class="cart-actions">
          <button class="cart-clear" type="button" id="cartClear">Очистить</button>
          <button class="cart-close" type="button" id="cartClose" aria-label="Закрыть">X</button>
        </div>
      </div>
      <div class="cart-items" id="cartItems"></div>
      <div class="cart-summary">
        <div class="cart-row">
          <span>Сумма</span>
          <strong id="cartSubtotal">0 ₽</strong>
        </div>
        <div class="cart-row">
          <span>Доставка</span>
          <span id="cartDelivery">Рассчитывается индивидуально</span>
        </div>
        <div class="cart-row">
          <span>Итого</span>
          <strong id="cartTotal">0 ₽</strong>
        </div>
        <a class="btn btn-primary" href="../index.html#order" id="cartToOrder">Перейти к оформлению</a>
      </div>
    </aside>

    <footer class="footer">
      <div class="container">
        <div class="logo">Уральские пельмешки</div>
        <div class="footer-grid">
          <div>
            <strong>Адреса продаж</strong>
            <p>Москва, Черемушкинский рынок</p>
            <p>Мытищи, ТК «ЭкоБазар»</p>
          </div>
          <div>
            <strong>Документы</strong>
            <p><a href="#">Политика конфиденциальности</a></p>
            <p><a href="#">Условия доставки</a></p>
            <p><a href="#">Условия оплаты</a></p>
          </div>
          <div>
            <strong>Реквизиты</strong>
            <p>ИП Сайкин Максим Борисович</p>
            <p>ОГРНИП: 323745600024581</p>
            <p>Доставка пельменей в Москве и области</p>
          </div>
        </div>
      </div>
    </footer>
  <script>
    const formatPrice = (value) => new Intl.NumberFormat("ru-RU").format(value) + " ₽";
    const formatPriceShort = (value) => new Intl.NumberFormat("ru-RU").format(value).replace(/\s/g, ".") + "р";
    const getScrollY = () => window.scrollY || window.pageYOffset || document.documentElement.scrollTop || 0;
    const setInstantScrollMode = (enabled) => {
      document.documentElement.classList.toggle("no-smooth-scroll", Boolean(enabled));
    };
    const jumpToY = (y) => {
      setInstantScrollMode(true);
      window.scrollTo({ top: Math.max(0, Math.round(y)), left: 0, behavior: "auto" });
      requestAnimationFrame(() => setInstantScrollMode(false));
    };
    const getAnchorTopOffset = () => (window.innerWidth <= 640 ? 10 : 14);
    const scrollToAnchorNode = (node, behavior = "smooth") => {
      if (!node) return;
      const top = Math.max(0, getScrollY() + node.getBoundingClientRect().top - getAnchorTopOffset());
      window.scrollTo({ top, left: 0, behavior });
    };

    if ("scrollRestoration" in history) {
      history.scrollRestoration = "manual";
    }
    const navEntry = performance.getEntriesByType("navigation")[0];
    const navType = navEntry ? navEntry.type : "navigate";
    if (!window.location.hash && (navType === "reload" || navType === "navigate")) {
      jumpToY(0);
    }

    const initFlowScrollExperience = () => {
      const stages = Array.from(document.querySelectorAll("#catalog, .category-section, .footer"));
      if (!stages.length) return;

      document.body.classList.add("flow-motion-enabled", "flow-primed");

      const reducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      const itemSeen = new Set();
      const revealItems = [];
      const delayByGroup = new Map();
      const progressStages = [];

      const addRevealItem = (node, defer) => {
        if (!node || itemSeen.has(node)) return;
        itemSeen.add(node);
        node.classList.add("flow-reveal");
        if (defer) node.dataset.defer = "1";

        const group = node.closest(".grid, .footer-grid") || node.parentElement;
        const order = delayByGroup.get(group) || 0;
        node.style.setProperty("--flow-delay", `${Math.min(order, 7) * 65}ms`);
        delayByGroup.set(group, order + 1);
        revealItems.push(node);
      };

      stages.forEach((stage, stageIndex) => {
        stage.classList.add("flow-stage");
        const defer = stageIndex > 0;

        if (stage.classList.contains("category-section")) {
          progressStages.push(stage);
          stage.querySelectorAll(".section-title, .product").forEach((node) => addRevealItem(node, defer));
          return;
        }

        if (stage.id === "catalog") {
          progressStages.push(stage);
          stage.querySelectorAll(".section-title, .catalog-card").forEach((node) => addRevealItem(node, false));
          return;
        }

        stage.querySelectorAll(".footer-grid > div").forEach((node) => addRevealItem(node, true));
      });

      const markFirstScroll = () => {
        if (document.body.classList.contains("has-scrolled-once")) return;
        document.body.classList.add("has-scrolled-once");
      };

      const syncFirstScrollState = () => {
        if ((window.scrollY || window.pageYOffset || 0) > 0) {
          markFirstScroll();
        }
      };

      syncFirstScrollState();
      window.addEventListener("scroll", syncFirstScrollState, { passive: true });

      if (reducedMotion || !("IntersectionObserver" in window)) {
        markFirstScroll();
        revealItems.forEach((node) => node.classList.add("is-visible"));
      } else {
        const revealObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) return;
            entry.target.classList.add("is-visible");
            observer.unobserve(entry.target);
          });
        }, { threshold: 0.16, rootMargin: "0px 0px -8% 0px" });

        revealItems.forEach((node) => revealObserver.observe(node));

        requestAnimationFrame(() => {
          revealItems.forEach((node) => {
            const rect = node.getBoundingClientRect();
            if (rect.top < window.innerHeight * 0.92) {
              node.classList.add("is-visible");
              revealObserver.unobserve(node);
            }
          });
        });
      }

      if (reducedMotion || !progressStages.length) return;

      let rafId = 0;
      const updateStageProgress = () => {
        rafId = 0;
        const viewportHeight = window.innerHeight || 1;
        progressStages.forEach((stage) => {
          const rect = stage.getBoundingClientRect();
          const start = viewportHeight * 0.9;
          const end = -Math.min(rect.height * 0.38, viewportHeight * 0.68);
          const raw = (start - rect.top) / (start - end);
          const progress = Math.max(0, Math.min(1, raw));
          stage.style.setProperty("--flow-stage-progress", progress.toFixed(4));
        });
      };

      const requestStageProgress = () => {
        if (rafId) return;
        rafId = window.requestAnimationFrame(updateStageProgress);
      };

      requestStageProgress();
      window.addEventListener("scroll", requestStageProgress, { passive: true });
      window.addEventListener("resize", requestStageProgress, { passive: true });
      document.addEventListener("visibilitychange", () => {
        if (!document.hidden) requestStageProgress();
      });
    };

    initFlowScrollExperience();

    const cartKey = "uralpelmeshki_cart";
    const cartMetaKey = "uralpelmeshki_cart_meta";
    const cart = JSON.parse(localStorage.getItem(cartKey) || "{}");
    const cartMeta = JSON.parse(localStorage.getItem(cartMetaKey) || "{}");

    const productNodes = Array.from(document.querySelectorAll('.product[data-id]'));
    const productGalleryExtras = {
      "pelmeni-beef-pork": ["https://optim.tildacdn.com/stor6166-3931-4137-a438-623235633839/-/format/webp/14e1bd7977e680e1ecd66526bf440154.jpg.webp"],
      "pelmeni-elite": ["https://optim.tildacdn.com/stor3861-3037-4633-a333-343435313332/-/format/webp/cef9173dd5519f13ddca8937fa54247a.jpg.webp"],
      "pelmeni-beef-turkey": ["https://optim.tildacdn.com/stor3732-3531-4764-b039-343166323332/-/format/webp/bffb20544bbfdf2f1ab44b1aeef49965.jpg.webp"],
      "pelmeni-sitnye": ["https://optim.tildacdn.com/stor3837-3436-4264-b163-346131363632/-/format/webp/139e64c3d79060da56b7b6b2ffa903f5.jpg.webp"],
      "vareniki-potato-onion": ["https://optim.tildacdn.com/stor6130-3562-4336-b935-373163353937/-/format/webp/109d1f0d9b71cdd291f225cc5ed14f36.jpg.webp"],
      "vareniki-potato-mushrooms": ["https://optim.tildacdn.com/stor3438-3364-4336-b531-633463646233/-/format/webp/18405fcb7121e2c540b2872668ac9bb7.jpg.webp"],
      "vareniki-raw-potato-bacon": ["https://optim.tildacdn.com/stor6431-3962-4662-b934-656237353530/-/format/webp/f21be791de02882b29918362254652e5.jpg.webp"],
      "vareniki-sauerkraut": ["https://optim.tildacdn.com/stor6432-3434-4465-a334-353065376366/-/format/webp/19e86160818b361810b30d3f00f1d4b9.jpg.webp"],
      "vareniki-adyghe": ["https://optim.tildacdn.com/stor3931-6462-4235-a164-346432633835/-/format/webp/f73bf8e5f3c85ea6efd187646c774415.jpg.webp"],
      "vareniki-sweet-curd": ["https://optim.tildacdn.com/stor3738-3864-4931-b630-366562366365/-/format/webp/178b1ac6f52c0184e62004b069d94c50.jpg.webp"],
      "manty-beef-pork": ["https://optim.tildacdn.com/stor3937-6166-4438-b737-373438396437/-/format/webp/beed04f8d92660c4ec9ff534ce04a1f9.jpg.webp"],
      "bliny-meat": ["https://optim.tildacdn.com/stor3961-6232-4335-b732-366462363761/-/format/webp/f7054ba9a8124c0cb31ea95724e95e29.jpg.webp"],
      "bliny-chicken-mushrooms": ["https://optim.tildacdn.com/stor3861-6535-4635-a433-383635326534/-/format/webp/5be2b915450d15855c52c3281d6a4012.jpg.webp"],
      "bliny-curd": ["https://optim.tildacdn.com/stor3239-3038-4931-a332-646362376237/-/format/webp/73e61281afc2fbb1830553975caf6d9e.jpg.webp"],
      "syrniki": ["https://optim.tildacdn.com/stor3430-3163-4962-a166-663238636563/-/format/webp/56633f047ffa16ef5dd7243685349b96.jpg.webp"],
      "golubtsy-meat-rice": ["https://optim.tildacdn.com/stor3035-3265-4062-b938-373064396238/-/format/webp/23539e080cff3db5b14d73398eb1de55.jpg.webp"]
    };
    const productImageFocus = {
      "pelmeni-beef-pork": ["50% 48%", "50% 52%"],
      "pelmeni-elite": ["50% 46%", "50% 50%"],
      "pelmeni-beef-turkey": ["50% 47%", "50% 50%"],
      "pelmeni-sitnye": ["50% 48%", "50% 50%"],
      "vareniki-potato-onion": ["50% 48%", "50% 50%"],
      "vareniki-potato-mushrooms": ["50% 48%", "50% 50%"],
      "vareniki-raw-potato-bacon": ["50% 48%", "50% 50%"],
      "vareniki-sauerkraut": ["50% 48%", "50% 50%"],
      "vareniki-adyghe": ["50% 48%", "50% 50%"],
      "vareniki-sweet-curd": ["50% 48%", "50% 50%"],
      "vareniki-cherry": ["50% 50%"],
      "manty-beef-pork": ["50% 48%", "50% 50%"],
      "khinkali-classic": ["50% 48%"],
      "khinkali-greens": ["50% 48%"],
      "bliny-meat": ["50% 48%", "50% 50%"],
      "bliny-liver": ["50% 48%"],
      "bliny-chicken-mushrooms": ["50% 48%", "50% 50%"],
      "bliny-curd": ["50% 48%", "50% 50%"],
      "bliny-yabloko": ["50% 48%"],
      "bliny-cherry": ["50% 48%"],
      "syrniki": ["50% 48%", "50% 50%"],
      "golubtsy-meat-rice": ["50% 48%", "50% 50%"],
      "frikadelki": ["50% 48%"],
      "kotlety-domashnie": ["50% 48%"],
      "kotlety-ptitsa": ["50% 48%"],
      "kotlety-beef": ["50% 48%"],
      "auto-beef-pork": ["50% 48%"],
      "auto-elite-beef": ["50% 48%"],
      "auto-beef-turkey": ["50% 48%"],
      "auto-poultry": ["50% 48%"],
      "auto-sitnye": ["50% 48%"],
      "auto-bulon-turkey": ["50% 48%"],
      "auto-bulon-classic": ["50% 48%"]
    };

    const supportsIntersectionObserver = "IntersectionObserver" in window;
    const thumbLoadHandlers = new Map();

    const thumbObserver = supportsIntersectionObserver
      ? new IntersectionObserver((entries, observer) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) return;
            const loadHandler = thumbLoadHandlers.get(entry.target);
            if (loadHandler) {
              loadHandler();
              thumbLoadHandlers.delete(entry.target);
            }
            observer.unobserve(entry.target);
          });
        }, { rootMargin: "320px 0px" })
      : null;

    const observeThumb = (thumb, loadFn) => {
      if (!thumbObserver) {
        loadFn();
        return;
      }
      thumbLoadHandlers.set(thumb, loadFn);
      thumbObserver.observe(thumb);
    };

    const normalizeImageUrl = (url) => url;

    const parseInlineBackground = (value) => {
      const match = value && value.match(/url\((['"]?)(.*?)\1\)/);
      return match ? match[2] : "";
    };

    const getThumbDataUrl = (thumb) => thumb.dataset.bg || parseInlineBackground(thumb.style.backgroundImage || "");

    const markThumbReady = (thumb) => {
      thumb.classList.remove("is-loading");
      thumb.classList.add("is-ready");
    };

    const loadCatalogCardThumb = (thumb) => {
      if (thumb.dataset.loaded === "1") return;
      const source = getThumbDataUrl(thumb);
      if (source) {
        thumb.style.backgroundImage = `url("${source}")`;
      }
      thumb.dataset.loaded = "1";
      markThumbReady(thumb);
    };

    const catalogCardThumbs = Array.from(document.querySelectorAll(".catalog-card .thumb"));
    catalogCardThumbs.forEach((thumb, index) => {
      thumb.classList.add("is-loading");
      const loadFn = () => loadCatalogCardThumb(thumb);
      if (index < 3) {
        loadFn();
      } else {
        observeThumb(thumb, loadFn);
      }
    });

    const buildProductGallery = (card, cardIndex) => {
      const thumb = card.querySelector(".thumb");
      if (!thumb) return;

      const id = card.dataset.id;
      const focusPoints = productImageFocus[id] || ["50% 48%"];
      const images = [...new Set(
        [card.dataset.image, getThumbDataUrl(thumb), ...(productGalleryExtras[id] || [])]
          .filter(Boolean)
          .map(normalizeImageUrl)
      )];
      if (!images.length) {
        markThumbReady(thumb);
        return;
      }

      card.dataset.image = images[0];
      thumb.textContent = "";
      thumb.style.backgroundImage = "";
      thumb.classList.add("is-loading");

      const track = document.createElement("div");
      track.className = "thumb-track";
      thumb.appendChild(track);

      const loadSlide = (img) => {
        if (!img || img.dataset.loaded === "1") return;
        const source = img.dataset.src;
        if (!source) return;
        img.src = source;
        img.dataset.loaded = "1";
        if (img.dataset.index === "0" && img.complete) {
          markThumbReady(thumb);
        }
      };

      const slides = images.map((src, index) => {
        const img = document.createElement("img");
        img.className = "thumb-slide";
        if (index === 0) img.classList.add("active");
        img.dataset.src = src;
        img.dataset.index = String(index);
        img.loading = "lazy";
        img.decoding = "async";
        img.fetchPriority = cardIndex < 2 && index < 2 ? "high" : "low";
        img.style.objectPosition = focusPoints[index] || focusPoints[0] || "50% 48%";
        img.alt = card.querySelector("h3")?.textContent?.trim() || "Фото товара";
        const onSlideReady = () => markThumbReady(thumb);
        img.addEventListener("load", onSlideReady, { once: true });
        img.addEventListener("error", onSlideReady, { once: true });
        track.appendChild(img);
        return img;
      });

      const loadInitialSlides = () => {
        loadSlide(slides[0]);
        if (slides[1]) loadSlide(slides[1]);
      };
      if (cardIndex < 6) {
        loadInitialSlides();
      } else {
        observeThumb(thumb, loadInitialSlides);
      }

      if (images.length === 1) return;

      const overlay = document.createElement("div");
      overlay.className = "thumb-overlay";
      thumb.appendChild(overlay);

      const dots = document.createElement("div");
      dots.className = "thumb-dots";
      const dotButtons = images.map((_, index) => {
        const dot = document.createElement("button");
        dot.className = "thumb-dot";
        dot.type = "button";
        dot.setAttribute("aria-label", `Фото ${index + 1}`);
        if (index === 0) dot.classList.add("active");
        dot.addEventListener("click", (event) => {
          event.stopPropagation();
          setIndex(index);
        });
        dots.appendChild(dot);
        return dot;
      });
      thumb.appendChild(dots);

      let current = 0;

      const setIndex = (index) => {
        current = (index + slides.length) % slides.length;
        loadSlide(slides[current]);
        slides.forEach((slide, i) => slide.classList.toggle("active", i === current));
        dotButtons.forEach((dot, i) => dot.classList.toggle("active", i === current));
      };

      thumb.addEventListener("mousemove", (event) => {
        const rect = thumb.getBoundingClientRect();
        if (!rect.width) return;
        const ratio = (event.clientX - rect.left) / rect.width;
        const next = Math.max(0, Math.min(slides.length - 1, Math.floor(ratio * slides.length)));
        if (next !== current) setIndex(next);
      });
    };

    productNodes.forEach((card, index) => buildProductGallery(card, index));

    const products = {
      ...cartMeta,
      ...Object.fromEntries(
        productNodes.map((el) => [
          el.dataset.id,
          {
            id: el.dataset.id,
            name: el.querySelector('h3')?.textContent?.trim() || 'Товар',
            price: Number(el.dataset.price || 0),
            image: el.dataset.image || ''
          }
        ])
      )
    };

    const cartCount = document.getElementById("cartCount");
    const cartItems = document.getElementById("cartItems");
    const cartSubtotal = document.getElementById("cartSubtotal");
    const cartTotal = document.getElementById("cartTotal");
    const cartOverlay = document.getElementById("cartOverlay");
    const cartDrawer = document.getElementById("cartDrawer");
    const cartClear = document.getElementById("cartClear");
    const cartDelivery = document.getElementById("cartDelivery");
    const cartToOrder = document.getElementById("cartToOrder");
    const orderDeliveryHint = document.getElementById("orderDeliveryHint");

    const MIN_ORDER_SUM = 3000;
    const FREE_DELIVERY_SUM = 7000;
    const MIN_ORDER_TOOLTIP = `Минимальная сумма заказа для доставки ${formatPrice(MIN_ORDER_SUM)}.`;

    const setCheckoutState = (subtotal) => {
      const enabled = subtotal >= MIN_ORDER_SUM;
      cartToOrder.classList.toggle("is-disabled", !enabled);
      cartToOrder.setAttribute("aria-disabled", String(!enabled));
      cartToOrder.tabIndex = enabled ? 0 : -1;
      if (enabled) {
        cartToOrder.removeAttribute("data-tooltip");
      } else {
        cartToOrder.setAttribute("data-tooltip", MIN_ORDER_TOOLTIP);
      }
    };

    const updateCartSummaryStatus = (subtotal) => {
      if (subtotal >= FREE_DELIVERY_SUM) {
        cartDelivery.textContent = "Бесплатная доставка";
        if (orderDeliveryHint) orderDeliveryHint.textContent = "Бесплатная доставка";
      } else {
        cartDelivery.textContent = "Рассчитывается индивидуально";
        if (orderDeliveryHint) orderDeliveryHint.textContent = "Стоимость доставки уточним при подтверждении";
      }
      setCheckoutState(subtotal);
    };

    cartToOrder.addEventListener("click", (event) => {
      if (cartToOrder.classList.contains("is-disabled")) {
        event.preventDefault();
      }
    });

    let lockedScrollY = 0;

    const lockPageScroll = () => {
      if (document.body.classList.contains("cart-open")) return;
      lockedScrollY = Math.round(getScrollY());
      document.body.style.top = `-${lockedScrollY}px`;
      document.body.classList.add("cart-open");
    };

    const unlockPageScroll = () => {
      if (!document.body.classList.contains("cart-open")) return;
      document.body.classList.remove("cart-open");
      document.body.style.top = "";
      jumpToY(lockedScrollY || 0);
    };

    const openCart = () => {
      lockPageScroll();
      cartOverlay.classList.add("open");
      cartDrawer.classList.add("open");
      cartDrawer.setAttribute("aria-hidden", "false");
      setFloatHidden(true);
    };

    const closeCart = () => {
      cartOverlay.classList.remove("open");
      cartDrawer.classList.remove("open");
      cartDrawer.setAttribute("aria-hidden", "true");
      unlockPageScroll();
      setFloatHidden(false);
      updateFloatVisibility();
    };

    document.getElementById("cartOpen").addEventListener("click", openCart);
    document.getElementById("cartClose").addEventListener("click", closeCart);
    cartOverlay.addEventListener("click", closeCart);

    const saveCart = () => localStorage.setItem(cartKey, JSON.stringify(cart));
    const saveCartMeta = () => localStorage.setItem(cartMetaKey, JSON.stringify(cartMeta));

    if (cartClear) {
      cartClear.addEventListener("click", () => {
        Object.keys(cart).forEach((key) => delete cart[key]);
        saveCart();
        renderCart();
      });
    }

    const addToCart = (id) => {
      cart[id] = (cart[id] || 0) + 1;
      if (products[id]) {
        cartMeta[id] = products[id];
        saveCartMeta();
      }
      saveCart();
      renderCart();
    };

    const updateQty = (id, delta) => {
      cart[id] = (cart[id] || 0) + delta;
      if (cart[id] <= 0) delete cart[id];
      saveCart();
      renderCart();
    };

    const updateAddControls = () => {
      document.querySelectorAll(".product[data-id]").forEach((card) => {
        const id = card.dataset.id;
        const qty = cart[id] || 0;
        const actions = card.querySelector(".hero-actions");
        if (!actions) return;
        const hadQty = actions.querySelector(".product-qty") !== null;
        actions.innerHTML = "";
        if (qty > 0) {
          actions.innerHTML = `
            <div class="product-qty" aria-label="Количество в корзине">
              <button type="button" data-add-dec="${id}"><span class="qty-icon" aria-hidden="true"><svg viewBox="0 0 12 12" focusable="false" aria-hidden="true"><path d="M2 6h8" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"/></svg></span></button>
              <span>${qty}</span>
              <button type="button" data-add-inc="${id}"><span class="qty-icon" aria-hidden="true"><svg viewBox="0 0 12 12" focusable="false" aria-hidden="true"><path d="M2 6h8M6 2v8" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"/></svg></span></button>
            </div>
          `;
          if (!hadQty) {
            const el = actions.querySelector(".product-qty");
            if (el) requestAnimationFrame(() => el.classList.add("appear"));
          }
        } else {
          actions.innerHTML = `<button class="btn btn-primary" type="button" data-add="${id}">В корзину</button>`;
          if (hadQty) {
            const el = actions.querySelector(".btn-primary");
            if (el) requestAnimationFrame(() => el.classList.add("appear"));
          }
        }
      });
    };

    const renderCart = () => {
      const entries = Object.entries(cart);
      const totalItems = entries.reduce((sum, [, qty]) => sum + qty, 0);
      cartCount.textContent = totalItems;
      syncCounts();

      if (!entries.length) {
        cartItems.innerHTML = '<div class="cart-empty">Корзина пока пуста. Добавьте любимые позиции.</div>';
        cartSubtotal.textContent = formatPrice(0);
        cartTotal.textContent = formatPrice(0);
        updateCartSummaryStatus(0);
        updateAddControls();
        return;
      }

      let subtotal = 0;
      cartItems.innerHTML = entries.map(([id, qty]) => {
        const product = products[id] || cartMeta[id];
        if (!product) return "";
        cartMeta[id] = product;
        const line = product.price * qty;
        subtotal += line;
        const safeImage = product.image || "data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Crect width='100%25' height='100%25' fill='%23f5e4d5'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Georgia' font-size='18' fill='%23806b5f'%3EUP%3C/text%3E%3C/svg%3E";
        return `
          <div class="cart-item">
            <img src="${safeImage}" alt="${product.name}" loading="lazy" decoding="async" fetchpriority="low">
            <div class="cart-item-info">
              <div class="cart-item-name">${product.name}</div>
              <div class="cart-item-sub">
                <span class="price">${formatPriceShort(product.price)}</span>
                <div class="cart-qty" aria-label="Количество товара в корзине">
                  <button type="button" data-dec="${id}" aria-label="Уменьшить количество"><span class="qty-icon" aria-hidden="true"><svg viewBox="0 0 12 12" focusable="false" aria-hidden="true"><path d="M2 6h8" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"/></svg></span></button>
                  <span>${qty}</span>
                  <button type="button" data-inc="${id}" aria-label="Увеличить количество"><span class="qty-icon" aria-hidden="true"><svg viewBox="0 0 12 12" focusable="false" aria-hidden="true"><path d="M2 6h8M6 2v8" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round"/></svg></span></button>
                </div>
              </div>
            </div>
            <div class="cart-item-total">${formatPriceShort(line)}</div>
          </div>
        `;
      }).join("");

      cartSubtotal.textContent = formatPrice(subtotal);
      cartTotal.textContent = formatPrice(subtotal);
      saveCartMeta();
      updateCartSummaryStatus(subtotal);

      cartItems.querySelectorAll("[data-inc]").forEach((btn) => {
        btn.addEventListener("click", () => updateQty(btn.dataset.inc, 1));
      });
      cartItems.querySelectorAll("[data-dec]").forEach((btn) => {
        btn.addEventListener("click", () => updateQty(btn.dataset.dec, -1));
      });

      updateAddControls();
    };


    const cartButton = document.getElementById("cartOpen");
    const cartFloat = document.getElementById("cartFloat");
    const cartCountFloat = document.getElementById("cartCountFloat");

    const syncCounts = () => {
      cartCountFloat.textContent = cartCount.textContent;
    };


    const catalogFloat = document.getElementById("catalogFloat");
    const catalogToggle = catalogFloat ? catalogFloat.querySelector(".float-btn") : null;
    const catalogLinks = catalogFloat ? Array.from(catalogFloat.querySelectorAll(".catalog-float-menu a[href]")) : [];

    const closeCatalogMenu = () => {
      if (!catalogFloat) return;
      catalogFloat.classList.remove("menu-open");
    };

    const navigateWithMotion = (href) => {
      if (!href) return;
      const url = new URL(href, window.location.href);
      const isSameDocument = url.origin === window.location.origin
        && url.pathname === window.location.pathname;
      if (isSameDocument && url.hash) {
        const target = document.querySelector(url.hash);
        if (target) {
          scrollToAnchorNode(target, "smooth");
          if (window.location.hash !== url.hash) {
            history.pushState(null, "", url.hash);
          }
          return;
        }
      }
      window.location.href = href;
    };

    const updateFloatVisibility = () => {
      const header = document.querySelector("header");
      const threshold = header ? header.offsetHeight : 120;
      if (window.scrollY > threshold) {
        cartFloat.classList.add("show");
        if (catalogFloat) catalogFloat.classList.add("show");
      } else {
        cartFloat.classList.remove("show");
        if (catalogFloat) catalogFloat.classList.remove("show");
        closeCatalogMenu();
      }
    };


    const setFloatHidden = (hidden) => {
      if (hidden) {
        cartFloat.classList.add("hidden");
        if (catalogFloat) catalogFloat.classList.add("hidden");
        closeCatalogMenu();
      } else {
        cartFloat.classList.remove("hidden");
        if (catalogFloat) catalogFloat.classList.remove("hidden");
      }
    };
    updateFloatVisibility();
    window.addEventListener("scroll", () => {
      updateFloatVisibility();
    }, { passive: true });
    window.addEventListener("resize", updateFloatVisibility);

    cartFloat.addEventListener("click", () => {
      openCart();
    });

    if (catalogToggle) {
      catalogToggle.addEventListener("click", (event) => {
        event.preventDefault();
        event.stopPropagation();
        catalogFloat.classList.toggle("menu-open");
      });
    }

    catalogLinks.forEach((link) => {
      link.addEventListener("click", (event) => {
        const href = link.getAttribute("href");
        if (!href) return;
        event.preventDefault();
        closeCatalogMenu();
        window.setTimeout(() => {
          navigateWithMotion(href);
        }, 80);
      });
    });

    document.addEventListener("click", (event) => {
      const anchor = event.target.closest("a[href]");
      if (!anchor) return;
      const href = anchor.getAttribute("href");
      if (!href || href === "#" || href.startsWith("mailto:") || href.startsWith("tel:")) return;
      const url = new URL(href, window.location.href);
      const isSameDocument = url.origin === window.location.origin
        && url.pathname === window.location.pathname
        && Boolean(url.hash);
      if (!isSameDocument) return;
      event.preventDefault();
      closeCatalogMenu();
      navigateWithMotion(href);
    });

    document.addEventListener("click", (event) => {
      if (!catalogFloat) return;
      if (catalogFloat.contains(event.target)) return;
      closeCatalogMenu();
    });

    document.addEventListener("keydown", (event) => {
      if (event.key === "Escape") closeCatalogMenu();
    });

    document.addEventListener("click", (event) => {
      const addBtn = event.target.closest("[data-add]");
      if (addBtn) {
        addToCart(addBtn.dataset.add);
        return;
      }
      const incBtn = event.target.closest("[data-add-inc]");
      if (incBtn) {
        updateQty(incBtn.dataset.addInc, 1);
        return;
      }
      const decBtn = event.target.closest("[data-add-dec]");
      if (decBtn) {
        updateQty(decBtn.dataset.addDec, -1);
      }
    });

    renderCart();
  </script>
</div>
</body>
</html>
